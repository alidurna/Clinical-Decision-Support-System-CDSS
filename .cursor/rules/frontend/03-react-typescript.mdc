---
description: React ve TypeScript kodlama standartlarÄ± â€” bileÅŸen yapÄ±sÄ±, hook kurallarÄ±, performans (Google 2026 Standards)
globs: apps/**/*.tsx,apps/**/*.ts
alwaysApply: false
---

# âš›ï¸ React & TypeScript StandartlarÄ±

**Versiyon:** 2.0.0 â€” Google 2026 Standards
**Ã–ncelik:** ğŸ”´ P0 â€” Kritik
**Kapsam:** TÃ¼m `apps/` altÄ±ndaki `.tsx` ve `.ts` dosyalarÄ±

---

## BileÅŸen YapÄ±sÄ±

### Temel Kurallar
- **Fonksiyonel bileÅŸen** kullan; class component **yasak**.
- Dosya adÄ± = BileÅŸen adÄ±, **PascalCase**: `Login.tsx` â†’ `export default Login`.
- Bir dosyada **tek ana bileÅŸen**; kÃ¼Ã§Ã¼k yardÄ±mcÄ± bileÅŸenler aynÄ± dosyada olabilir.
- Arrow function syntax tercih et.

```tsx
// âœ… DOÄRU
const Login = () => { ... }
export default Login

// âŒ YANLIÅ â€” isimsiz export
export default function() { ... }

// âŒ YANLIÅ â€” class component
class Login extends React.Component { ... }
```

### BileÅŸen Dosya YapÄ±sÄ± (SÄ±ralama)
```tsx
// 1. Import'lar (sÄ±ralÄ±)
import React, { useState, useEffect } from 'react'

// 2. Interface / Type tanÄ±mlarÄ±
interface LoginProps {
  onSubmit: (email: string, password: string) => void
}

// 3. Sabitler (component dÄ±ÅŸÄ±)
const MAX_ATTEMPTS = 5

// 4. BileÅŸen tanÄ±mÄ±
const Login: React.FC<LoginProps> = ({ onSubmit }) => {
  // 4a. State
  const [email, setEmail] = useState('')
  
  // 4b. Custom Hook'lar
  const { user } = useAuth()
  
  // 4c. Derived values / useMemo
  const isValid = useMemo(() => email.includes('@'), [email])
  
  // 4d. Callbacks / useCallback
  const handleSubmit = useCallback(() => { ... }, [])
  
  // 4e. useEffect
  useEffect(() => { ... }, [])
  
  // 4f. Handler fonksiyonlarÄ±
  const handleClick = () => { ... }
  
  // 4g. Early return (loading, error, empty)
  if (loading) return <Skeleton />
  
  // 4h. JSX return
  return ( ... )
}

export default Login
```

---

## TypeScript KurallarÄ±

### Tip GÃ¼venliÄŸi
- `any` kullanma; bilinmeyen tip iÃ§in `unknown`, sonra **type guard** ile daralt.
- Props iÃ§in **`interface`** tanÄ±mla; inline `{}` tip kullanma.
- Event handler'lar iÃ§in doÄŸru tipleri kullan:
  - `React.FormEvent<HTMLFormElement>`
  - `React.ChangeEvent<HTMLInputElement>`
  - `React.MouseEvent<HTMLButtonElement>`

```tsx
// âœ… DOÄRU
interface LoginFormProps {
  onSubmit: (email: string, password: string) => void
  initialEmail?: string  // opsiyonel prop
}

// âŒ YANLIÅ
const Login = (props: any) => { ... }
```

### Enum ve Union Type
- Basit durumlar iÃ§in **union type** tercih et: `type Status = 'idle' | 'loading' | 'error'`
- KarmaÅŸÄ±k durumlar iÃ§in `enum` kullan.
- Discriminated union ile state management:

```tsx
type RequestState =
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: Patient[] }
  | { status: 'error'; error: string }
```

---

## Hook KurallarÄ±

### State YÃ¶netimi
- **`useState`** â†’ Basit, baÄŸÄ±msÄ±z deÄŸerler.
- **`useReducer`** â†’ KarmaÅŸÄ±k, birbiriyle iliÅŸkili state.
- **Context** â†’ Sadece tema/auth gibi **global** state iÃ§in; her kÃ¼Ã§Ã¼k state iÃ§in context aÃ§ma.

### Side Effect
- **`useEffect`** â†’ BaÄŸÄ±mlÄ±lÄ±k dizisini **eksiksiz** yaz.
- BoÅŸ dizi `[]` sadece mount'ta Ã§alÄ±ÅŸacak effect'ler iÃ§in.
- Cleanup fonksiyonu unutma (subscription, timer, event listener).

```tsx
useEffect(() => {
  const controller = new AbortController()
  fetchData({ signal: controller.signal })
  return () => controller.abort() // âœ… Cleanup
}, [dependency])
```

### Custom Hook
- `use` prefixi **zorunlu**: `useAuth`, `usePatients`, `useDebounce`.
- Tekrar eden mantÄ±ÄŸÄ± custom hook'a Ã§Ä±kar.
- Hook'tan dÃ¶nen deÄŸerler tipi aÃ§Ä±k olmalÄ±.

---

## Import SÄ±rasÄ± (Zorunlu)

```tsx
// 1. React / React kÃ¼tÃ¼phaneleri
import React, { useState, useEffect } from 'react'
import { useNavigate } from 'react-router-dom'

// 2. ÃœÃ§Ã¼ncÃ¼ parti kÃ¼tÃ¼phaneler
import { Box, Typography, Button } from '@mui/material'
import axios from 'axios'

// 3. Proje iÃ§i bileÅŸenler / hook'lar
import { useAuth } from '../hooks/useAuth'
import PatientCard from '../components/PatientCard'

// 4. Tipler / Interface'ler
import type { Patient, LoginRequest } from '../types'

// 5. CSS / Stil dosyalarÄ±
import './Login.css'
```

---

## Performans KurallarÄ±

| Durum | Ã‡Ã¶zÃ¼m |
|-------|--------|
| BÃ¼yÃ¼k listeler | `React.memo` veya `useMemo` |
| AÄŸÄ±r hesaplama | `useMemo` (baÄŸÄ±mlÄ±lÄ±k dizisi ile) |
| Callback prop geÃ§me | `useCallback` (gereksiz yere kullanma) |
| BÃ¼yÃ¼k sayfa/remote | `React.lazy` + `Suspense` |
| SÄ±k re-render | `React.memo` + prop karÅŸÄ±laÅŸtÄ±rma |
| AÄŸÄ±r form | Debounce input (`useDebounce` hook) |

### Kod BÃ¶lme (Code Splitting)
```tsx
// âœ… DOÄRU â€” Lazy loading
const Dashboard = React.lazy(() => import('./pages/Dashboard'))

const App = () => (
  <Suspense fallback={<CircularProgress />}>
    <Dashboard />
  </Suspense>
)
```

---

## âŒ Yasak Pratikler

1. âŒ `any` tip kullanÄ±mÄ±
2. âŒ Class component
3. âŒ `dangerouslySetInnerHTML` (kullanÄ±cÄ± girdisi ile)
4. âŒ `<div onClick>` â€” `<button>` veya MUI `Button` kullan
5. âŒ `useEffect` baÄŸÄ±mlÄ±lÄ±k dizisi eksik bÄ±rakma
6. âŒ `catch (e) {}` boÅŸ catch bloÄŸu
7. âŒ Console.log'u Ã¼retim kodunda bÄ±rakma
8. âŒ State mutation (spread operator kullan)
9. âŒ Index'i key olarak kullanma (eÄŸer liste deÄŸiÅŸkenlik gÃ¶steriyorsa)
10. âŒ Prop drilling (3+ seviye â†’ Context veya state management)
